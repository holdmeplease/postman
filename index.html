<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‚®å·®å‰§åˆ¶ | ç´ æé¢†å–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .btn-gradient { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); }
        /* å¼ºåˆ¶å›¾ç‰‡æ¯”ä¾‹ä¸º 1:1 */
        .square-img { aspect-ratio: 1 / 1; object-fit: cover; }
        /* æ¿€æ´»çŠ¶æ€ç¼©æ”¾åé¦ˆ */
        .img-item:active { transform: scale(0.95); opacity: 0.7; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col items-center pb-12 px-4">

    <div class="w-full max-w-md bg-white rounded-b-2xl shadow-sm p-5 mb-6 text-center border-b border-slate-100">
        <h1 class="text-lg font-bold text-slate-800 tracking-widest">ã€ŠæŠ“å°ä¸‰ã€‹è§’è‰²æ¡£æ¡ˆ</h1>
        <p id="role-name" class="text-orange-500 text-xs mt-1 font-bold">åŠ è½½ä¸­...</p>
    </div>

    <div class="w-full max-w-md space-y-5">
        
        <div class="bg-white rounded-2xl shadow-sm p-5 border border-slate-100">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-slate-800 font-bold text-sm flex items-center">
                    <span class="w-5 h-5 bg-slate-800 text-white text-[10px] flex items-center justify-center rounded-full mr-2">1</span>
                    ä¿å­˜ä¸“å±ç´ æ (å…±5å¼ )
                </h2>
            </div>
            
            <div id="image-grid" class="grid grid-cols-3 gap-2">
                <div class="rounded-lg border-2 border-dashed border-slate-100 flex items-center justify-center text-slate-200 text-xs aspect-square">?</div>
            </div>
            <p class="text-[10px] text-slate-400 mt-4 text-center italic">é¡ºæ¬¡é•¿æŒ‰ä¸Šæ–¹å›¾ç‰‡ä¿å­˜è‡³ç›¸å†Œ</p>
        </div>

        <div class="bg-white rounded-2xl shadow-sm p-5 border border-slate-100">
            <h2 class="text-slate-800 font-bold text-sm flex items-center mb-4">
                <span class="w-5 h-5 bg-slate-800 text-white text-[10px] flex items-center justify-center rounded-full mr-2">2</span>
                é¢†å–è§’è‰²è‡ªç™½
            </h2>
            <div id="review-box" class="bg-slate-50 border border-slate-100 rounded-xl p-4 text-slate-600 text-sm leading-relaxed mb-4">
                æ¡£æ¡ˆè¯»å–ä¸­...
            </div>
            <button onclick="copyAndJump()" class="w-full btn-gradient text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-all">
                å¤åˆ¶æ–‡æ¡ˆå¹¶è¯„ä»·
            </button>
        </div>

    </div>

    <script>
        const roleData = {
            "0": {
                name: "ã€ 1å·ä½ Â· è§’è‰²å ã€‘",
                text: "æ’•å¾—çˆ½ï¼åœ¨é‚®å·®è¿™å„¿å½»åº•é‡Šæ”¾å¤©æ€§äº†ğŸ˜‚ã€‚è¿™ä¸ªæœ¬ç®€ç›´æ˜¯å¤§å‹å¤„åˆ‘ç°åœºï¼Œåè½¬å¤šåˆ°æ€€ç–‘äººç”Ÿã€‚#å‰§æœ¬æ€ #æŠ“å°ä¸‰",
                imgs: ["img1.jpg", "img2.jpg", "img3.jpg", "img4.jpg", "img5.jpg"]
            },
            "1": {
                name: "ã€ 2å·ä½ Â· è§’è‰²å ã€‘",
                text: "æ•‘å‘½ğŸ†˜ï¼é‚®å·®å¸¦èŠ‚å¥è´¼ç¨³ã€‚æœ¬æ¥ä»¥ä¸ºçœ‹ç‹—è¡€å‰§ï¼Œç»“æœè‡ªå·±æ‰æ˜¯ä¸»è§’â€¦â€¦è¿™ç§åˆæ³•çš„å‘ç–¯çœŸçš„å¤ªè§£å‹äº†ï¼ğŸ— #æ¬¢ä¹æœ¬",
                imgs: ["r2_1.jpg", "r2_2.jpg", "r2_3.jpg", "r2_4.jpg", "r2_5.jpg"]
            }
            // æ›´å¤šè§’è‰²...
        };

        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id') || "0";
        const current = roleData[id] || roleData["0"];

        document.getElementById('role-name').innerText = current.name;
        document.getElementById('review-box').innerText = current.text;

        const grid = document.getElementById('image-grid');
        // åŠ¨æ€æ’å…¥å›¾ç‰‡åˆ°å ä½ç¬¦ä¹‹å‰
        current.imgs.forEach(src => {
            const img = document.createElement('img');
            img.src = src; 
            img.className = "rounded-lg w-full square-img img-item bg-slate-100 shadow-sm";
            grid.insertBefore(img, grid.lastElementChild);
        });

        function copyAndJump() {
            const text = document.getElementById('review-box').innerText;
            
            // 1. å†™å…¥æ–‡æ¡ˆ
            navigator.clipboard.writeText(text).then(() => {
                // 2. è¿™é‡Œçš„è·³è½¬é“¾æ¥éå¸¸å…³é”®
                // å°è¯•ç›´æ¥å‘¼èµ· APP æœç´¢é¡µï¼Œçœ‹èƒ½å¦ç»•è¿‡å°ç¨‹åºä¸­è½¬
                const directAppUrl = "dianping://search?w=" + encodeURIComponent("å‰§æœ¬æ€"); 
                const fallbackUrl = "https://m.dianping.com";
        
                alert('âœ… æ–‡æ¡ˆå·²å‡†å¤‡å°±ç»ªï¼\nç‚¹å‡»ç¡®å®šåï¼Œè‹¥æç¤ºâ€œç¦»å¼€å¾®ä¿¡â€ï¼Œè¯·ç‚¹å‡»â€œå…è®¸â€ã€‚');
        
                setTimeout(() => {
                    // å°è¯•ç›´æ¥æ‹‰èµ·åè®®
                    window.location.href = directAppUrl;
        
                    // 3ç§’åå¦‚æœæ²¡è·³èµ°ï¼Œè¯´æ˜åè®®è¢«å¾®ä¿¡ææ­»äº†ï¼Œå†èµ° fallback
                    setTimeout(() => {
                        if (!document.hidden) {
                            window.location.href = fallbackUrl;
                        }
                    }, 3000);
                }, 500);
            });
        }
    </script>
</body>
</html>
